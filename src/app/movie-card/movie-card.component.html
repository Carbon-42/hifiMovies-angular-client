<app-navigation-bar></app-navigation-bar>

<div *ngIf="movies.length === 0" class="loading-container">
	<mat-progress-spinner value="100" mode="indeterminate"></mat-progress-spinner>
</div>

<div class="movie-grid">
	<div class="movie-grid-items" *ngFor="let movie of movies;" style="flex: 1 1 auto;">
	<div style="display: flex;">
		<mat-card>
				<mat-card-header>
					<div class="card-header">
						<mat-card-title>{{movie.title}}</mat-card-title>
						<mat-card-subtitle>Directed by: {{movie.director.name}}</mat-card-subtitle>
					</div>
				</mat-card-header>
				<img src="{{movie.image}}" alt= {{movie.title}} />
				<mat-card-actions>
						<button
								mat-button
								color="primary"
								(click)="openGenreDialog(movie.genre)"
						>
								Genre
						</button>
						<button
								mat-button
								color="primary"
								(click)="openDirectorDialog(movie.director)"

						>
								Director
						</button>
						<button
								mat-button
								color="primary"
								(click)="openSynopsisDialog(movie.description)"

						>
								Synopsis
						</button>
						<button *ngIf="!isFavorite(movie._id)" mat-icon-button (click)="postFavorite(movie._id)"
							matTooltip="Add to favorites">
							<mat-icon>favorite_border</mat-icon>
						</button>
						<button *ngIf="isFavorite(movie._id)" mat-icon-button (click)="removeFavorite(movie._id)"
							matTooltip="Remove from favorites">
							<mat-icon>favorite</mat-icon>
						</button>
				</mat-card-actions>
		</mat-card>
		</div>
	</div>
</div>
